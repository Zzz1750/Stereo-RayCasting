<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spatial Audio in A-Frame</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
</head>
<body>

    <!-- Start Button (User Interaction Required) -->
    <button id="startButton" style="position: absolute; top: 10px; left: 10px; z-index: 100; padding: 10px 15px;">
        Start Audio
    </button>

    <a-scene>
        <!-- Sky (Background) -->
        <a-sky src="./images/1.png" radius="10"></a-sky>

        <!-- Camera -->
        <a-entity position="0 1.6 0">
            <a-camera>
                <a-cursor></a-cursor>
            </a-camera>
        </a-entity>

        <!-- Spatial Audio Source Positioned to the Left -->
        <a-entity id="audioSource" position="-2 1.5 0"
                  sound="src: #intro-audio; positional: true"></a-entity>

        <!-- Audio Element -->
        <audio id="intro-audio" src="./audio/intro.wav" preload="auto"></audio> 
    </a-scene>

    <script>
        document.getElementById("startButton").addEventListener("click", function() {
            let audioEntity = document.querySelector("#audioSource");
            audioEntity.components.sound.playSound(); // Start the sound

            this.style.display = "none"; // Hide button after clicking
        });
    </script>

</body>
</html>
